<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>MOVIBAZAAR</title>
    <link rel="stylesheet" href="css/style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@600&family=Roboto&display=swap" rel="stylesheet">
  </head>

  <body>
    <nav class="header navbar-default">
      <div class="container">
        <div class="navbar-header">
          <a class="navbar-brand" id="title" href="index.html">MOVIBAZAAR</a>
        </div>
      </div>
    </nav>

    <div class="container">
      <div id="movie" class="well">
        
          <div class="footer">
          <div class="">
              <hr>
              <a href="index.html" class="btn btn-default">Go Back To Search</a>
          </div>
          </div>
      </div>
    </div>
    <script>
      (function(){

        // Step 1. Get the id from the session storage. Insert the code below
        const mid=sessionStorage.getItem("movieId")

        // Step 2. Does a api call to fetch the additional details and update the page
        const fetchData=async()=>{
          fetch(`/movies/${mid}`)
          .then(res=>{
            res.json();
          })
          .then(data=>{
            console.log(data);
            
           const template= `<div class="row">
          <div class="image">
              <img src="${data.Poster}" class="thumbnail">
          </div>
          <h2 id="title"></h2>
          <div class="details-wrapper">
              <ul class="list-group">
                <li id="genre"><strong>Genre:</strong></li>
                <li id="release"><strong>Released:</strong></li>
                <li id="director"><strong>Director:</strong></li>
                <li id="actors"><strong>Actors:</strong></li>   
              </ul>
          </div>
          </div>`

          const html=document.getElementById("movie");
          html.innerHTML=template;

          })

        }
        fetchData();
      })();
      
    </script>
  </body>
</html>
